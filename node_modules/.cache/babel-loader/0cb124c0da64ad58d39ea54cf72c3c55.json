{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\GitHub\\\\zone\\\\zone\\\\src\\\\techtree\\\\panels\\\\treeParent.js\";\nimport React, { Component } from \"react\";\nimport TreePanel from \"./treePanel\"; // import {TOWNCENTRE, RANGE, BARRACKS, STABLE, SIEGE, CASTLE, BLACSKMITH, MONASTERY, UNIVERSITY, ECONOMY, DOCK, DEFENSE} from \"./UNIT_NAMES\";\n\nimport NotifService, { CIV_SELECTED } from \"../Service/notifService\";\nimport \"./panel.css\";\nconst NA = \"NA\";\nconst DIS = \"disable-\";\nlet instance = null;\nvar notifService = new NotifService();\nexport default class TreeParent extends Component {\n  constructor(props) {\n    super(props);\n    this.fu = [];\n    this.xRange = [];\n    this.xBarracks = [];\n    this.xStable = [];\n    this.xSiege = [];\n    this.xCastle = [];\n    this.xDefense = [];\n    this.xMonastery = [];\n    this.xBlacksmith = [];\n    this.xUniversity = [];\n    this.xEconomy = [];\n    this.xDock = [];\n    this.xTownCentre = [];\n    this.updateTree = this.updateTree.bind(this);\n    this.resetTree = this.resetTree.bind(this);\n    this.updateTree(\"Aztecs\");\n  }\n\n  componentDidMount() {\n    notifService.addObserver(CIV_SELECTED, this, this.updateTree);\n  }\n\n  componentWillUnmount() {\n    notifService.removeObserver(this, CIV_SELECTED);\n  }\n  /* value = civ selected */\n\n\n  updateTree(value) {\n    this.resetTree();\n\n    switch (value) {\n      case \"Aztecs\":\n        this.fu = [\"Champion\"];\n        this.xCastle[2][0] = \"Jaguar Warrior\";\n        this.xCastle[3][0] = \"Jaguar Warrior\";\n        this.disable(this.xRange, [\"Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\", \"Heavy Cavalry Archer\"]);\n        this.disable(this.xBarracks, [\"Halberdier\"]);\n        this.disable(this.xStable, [\"Scout Cavalry\", \"Bloodlines\", \"Light Cavalry\", \"Knight\", \"Camel Rider\", \"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", \"Paladin\", \"Husbandry\"]);\n        this.disable(this.xSiege, [\"Bombard Cannon\", \"Heavy Scorpion\"]);\n        this.disable(this.xCastle, [\"Hoardings\"]);\n        this.disable(this.xDefense, [\"Bombard Tower\", \"Keep\"]);\n        this.disable(this.xBlacksmith, [\"Ring Archer Armor\", \"Scale Barding Armor\", \"Plate Barding Armor\", \"Chain Barding Armor\"]);\n        this.disable(this.xUniversity, [\"Masonry\", \"Architecture\", \"Keep\", \"Bombard Tower\"]);\n        this.disable(this.xMonastery, []);\n        this.disable(this.xEconomy, [\"Two-man Saw\", \"Guilds\"]);\n        this.disable(this.xDock, [\"Cannon Galleon\", \"Elite Cannon Galleon\", \"Galleon\", \"Heavy Demolition Ship\"]);\n        break;\n\n      case \"Berbers\":\n        this.fu = [\"Elite Skirmisher\", \"Hand Cannoneer\", \"Hussar\", \"Heavy Camel Rider\", \"Champion\"];\n        this.xCastle[2][0] = \"Camel Archer\";\n        this.xCastle[3][0] = \"Camel Archer\";\n        this.disable(this.xRange, [\"Arbalester\", \"Parthian Tactics\"]);\n        this.disable(this.xBarracks, [\"Halberdier\"]);\n        this.disable(this.xStable, [\"Paladin\"]);\n        this.disable(this.xSiege, [\"Siege Ram\", \"Siege Onager\"]);\n        this.disable(this.xCastle, [\"Sappers\"]);\n        this.disable(this.xDefense, [\"Bombard Tower\", \"Keep\"]);\n        this.disable(this.xBlacksmith, []);\n        this.disable(this.xUniversity, [\"Architecture\", \"Keep\", \"Bombard Tower\"]);\n        this.disable(this.xMonastery, [\"Sanctity\", \"Block Printing\"]);\n        this.disable(this.xEconomy, [\"Two-man Saw\"]);\n        this.disable(this.xDock, [\"Shipwright\"]);\n        break;\n\n      case \"Turks\":\n        this.fu = [\"Heavy Cavalry Archer\", \"Hand Cannoneer\", \"Hussar\", \"Heavy Camel Rider\", \"Champion\"];\n        this.xCastle[2][0] = \"Janissary\";\n        this.xCastle[3][0] = \"Janissary\";\n        this.disable(this.xRange, [\"Arbalester\", \"Elite Skirmisher\"]);\n        this.disable(this.xBarracks, [\"Pikeman\", \"Halberdier\"]);\n        this.disable(this.xStable, [\"Paladin\"]);\n        this.disable(this.xSiege, [\"Onager\", \"Siege Onager\"]);\n        this.disable(this.xCastle, []);\n        this.disable(this.xDefense, []);\n        this.disable(this.xBlacksmith, []);\n        this.disable(this.xUniversity, [\"Siege Engineers\"]);\n        this.disable(this.xMonastery, [\"Herbal Medicine\", \"Illumination\", \"Block Printing\"]);\n        this.disable(this.xEconomy, [\"Stone Shaft Mining\", \"Crop Rotation\"]);\n        this.disable(this.xDock, [\"Fast Fire Ship\"]);\n        break;\n\n      case \"Britons\":\n        this.fu = [\"Champion\", \"Halberdier\"];\n        this.xCastle[2][0] = \"Longbowman\";\n        this.xCastle[3][0] = \"Longbowman\";\n        this.disable(this.xRange, [\"Heavy Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\"]);\n        this.disable(this.xBarracks, []);\n        this.disable(this.xStable, [\"Hussar\", \"Bloodlines\", \"Paladin\"]);\n        this.disable(this.xSiege, [\"Siege Ram\", \"Siege Onager\", \"Bombard Cannon\"]);\n        this.disable(this.xUniversity, [\"Treadmill Crane\", \"Bombard Tower\"]);\n        break;\n    }\n  }\n\n  disable(build, units) {\n    if (units.length !== 0) {\n      let newTree = Array.from(build);\n      let disableLength = units.length;\n\n      for (let i = 0; disableLength > 0 && i <= 4; i++) {\n        newTree[i].forEach(unit => {\n          units.forEach(x => {\n            if (unit === x) {\n              let k = newTree[i].indexOf(unit); // this.attachNATag(newTree, i, k);\n\n              this.attachDisableTag(newTree, i, k);\n              disableLength--;\n            }\n          });\n        });\n      }\n    }\n  }\n  /* disabled unit Strings are replaced with NA */\n\n\n  attachNATag(newTree, i, k) {\n    newTree[i][k] = NA;\n  }\n  /* disabled untis are prefixed DISABLE instead of NA */\n\n\n  attachDisableTag(newTree, i, k) {\n    newTree[i][k] = DIS + newTree[i][k];\n  }\n\n  resetTree() {\n    this.fu = [];\n    const RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\n    const BARRACKS = [[\"Militia\"], [\"Man-at-arms\", \"Spearman\", NA, NA, \"Supplies\"], [\"Long Swordsman\", \"Pikeman\", NA, NA, \"Squires\", \"Arson\"], [\"Two-handed Swordsman\", \"Halberdier\", NA, NA], [\"Champion\", NA, NA, NA]];\n    const STABLE = [[NA], [\"Scout Cavalry\", NA, NA, NA, NA, \"Bloodlines\"], [\"Light Cavalry\", \"Knight\", \"Camel Rider\", NA, NA, \"Husbandry\"], [\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", NA, NA], [NA, \"Paladin\", NA]];\n    const SIEGE = [[NA], [NA], [\"Battering Ram\", \"Mangonel\", \"Scorpion\", NA, NA, NA, NA], [\"Capped Ram\", \"Onager\", \"Heavy Scorpion\", NA, NA, NA, NA], [\"Siege Ram\", \"Siege Onager\", NA, \"Bombard Cannon\"]];\n    const CASTLE = [[NA], [NA], [\"Longbowman\", NA, \"Petard\", NA, \"Unique Tech 1\", NA, NA], [\"Elite Longbowman\", \"Trebuchet\", NA, NA, \"Unique Tech 2\", NA, NA], [NA, NA, \"Hoardings\", \"Sappers\", \"Conscription\", \"Spies Treason\"]];\n    const DEFENSE = [[\"Outpost\", NA, \"House\"], [NA, \"Watch Tower\", NA, \"Palisade Wall\", \"Stone Wall\", \"Palisade Gate\", \"Gate\"], [NA, \"Guard Tower\", NA, NA, \"Fortified Wall\"], [NA, \"Keep\", \"Bombard Tower Build\"], [NA]];\n    const MONASTERY = [[NA], [NA], [\"Monk\", \"Redemption\", \"Fervor\", \"Sanctity\", \"Atonement\", \"Herbal Medicine\", \"Heresy\"], [NA, \"Block Printing\", \"Illumination\", \"Faith\", \"Theocracy\"], [NA]];\n    const BLACSKMITH = [[NA], [\"Forging\", \"Scale Mail Armor\", \"Scale Barding Armor\", \"Fletching\", \"Padded Archer Armor\", NA, NA], [\"Iron Casting\", \"Chain Mail Armor\", \"Chain Barding Armor\", \"Bodkin Arrow\", \"Leather Archer Armor\", NA, NA], [\"Blast Furnace\", \"Plate Mail Armor\", \"Plate Barding Armor\", \"Bracer\", \"Ring Archer Armor\", NA, NA], [NA]];\n    const UNIVERSITY = [[NA], [NA], [\"Masonry\", \"Fortified Wall\", \"Ballistics\", \"Guard Tower\", \"Heated Shot\", \"Treadmill Crane\", \"Murder Holes\"], [\"Architecture\", \"Chemistry\", \"Siege Engineers\", \"Keep\", \"Arrowslits\", NA, NA], [NA, \"Bombard Tower\"]];\n    const ECONOMY = [[NA], [\"Trade Cart\", NA, \"Coinage\", \"Double-bit Axe\", \"Horse Collar\", \"Gold Mining\", \"Stone Mining\"], [NA, \"Caravan\", \"Banking\", \"Bow Saw\", \"Heavy Plow\", \"Gold Shaft Mining\", \"Stone Shaft Mining\"], [NA, \"Guilds\", NA, \"Two-man Saw\", \"Crop Rotation\", NA, NA], [NA]];\n    const DOCK = [[NA, NA, NA, \"Fishing Ship\", \"Transport Ship\"], [\"Galley\", \"Demolition Raft\", \"Fire Galley\", NA, NA, \"Trade Cog\"], [\"War Galley\", \"Demolition Ship\", \"Fire Ship\", NA, \"Gillnets\", \"Careening\"], [\"Galleon\", \"Heavy Demo Ship\", \"Fast Fire Ship\", \"Cannon Galleon\", \"Dry Dock\", \"Shipwright\"], [NA, NA, NA, \"Elite Cannon Galleon\"]];\n    const TOWNCENTRE = [[\"Villager\", \"Loom\", NA, NA, \"Feudal Age\"], [NA, NA, \"Wheelbarrow\", \"Town Watch\", \"Castle Age\"], [NA, NA, \"Hand Cart\", \"Town Patrol\", \"Imperial Age\"], [NA], [NA]];\n    this.xRange = [...RANGE];\n    this.xBarracks = [...BARRACKS];\n    this.xStable = [...STABLE];\n    this.xSiege = [...SIEGE];\n    this.xCastle = [...CASTLE];\n    this.xDefense = [...DEFENSE];\n    this.xMonastery = [...MONASTERY];\n    this.xBlacksmith = [...BLACSKMITH];\n    this.xUniversity = [...UNIVERSITY];\n    this.xEconomy = [...ECONOMY];\n    this.xDock = [...DOCK];\n    this.xTownCentre = [...TOWNCENTRE];\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Archery Range\",\n      fu: this.fu,\n      tree: this.xRange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Barracks\",\n      fu: this.fu,\n      tree: this.xBarracks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Stable\",\n      fu: this.fu,\n      tree: this.xStable,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Siege Workshop\",\n      tree: this.xSiege,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Castle\",\n      tree: this.xCastle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Defense\",\n      tree: this.xDefense,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Blacksmith\",\n      tree: this.xBlacksmith,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"University\",\n      tree: this.xUniversity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Monastery\",\n      tree: this.xMonastery,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Town Center\",\n      tree: this.xTownCentre,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Economic Buildings\",\n      tree: this.xEconomy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Dock\",\n      tree: this.xDock,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["D:/Coding/GitHub/zone/zone/src/techtree/panels/treeParent.js"],"names":["React","Component","TreePanel","NotifService","CIV_SELECTED","NA","DIS","instance","notifService","TreeParent","constructor","props","fu","xRange","xBarracks","xStable","xSiege","xCastle","xDefense","xMonastery","xBlacksmith","xUniversity","xEconomy","xDock","xTownCentre","updateTree","bind","resetTree","componentDidMount","addObserver","componentWillUnmount","removeObserver","value","disable","build","units","length","newTree","Array","from","disableLength","i","forEach","unit","x","k","indexOf","attachDisableTag","attachNATag","RANGE","BARRACKS","STABLE","SIEGE","CASTLE","DEFENSE","MONASTERY","BLACSKMITH","UNIVERSITY","ECONOMY","DOCK","TOWNCENTRE","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport TreePanel from \"./treePanel\";\r\n// import {TOWNCENTRE, RANGE, BARRACKS, STABLE, SIEGE, CASTLE, BLACSKMITH, MONASTERY, UNIVERSITY, ECONOMY, DOCK, DEFENSE} from \"./UNIT_NAMES\";\r\nimport NotifService, {CIV_SELECTED} from \"../Service/notifService\";\r\nimport \"./panel.css\";\r\n\r\n\r\nconst NA = \"NA\";\r\nconst DIS = \"disable-\";\r\nlet instance = null;\r\nvar notifService = new NotifService();\r\n\r\nexport default class TreeParent extends Component {\r\n    fu = [];\r\n    xRange = [];\r\n    xBarracks = [];\r\n    xStable = [];\r\n    xSiege = [];\r\n    xCastle = [];\r\n    xDefense = [];\r\n    xMonastery = [];\r\n    xBlacksmith = [];\r\n    xUniversity = [];\r\n    xEconomy = [];\r\n    xDock = [];\r\n    xTownCentre = [];\r\n    \r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.updateTree = this.updateTree.bind(this);\r\n        this.resetTree = this.resetTree.bind(this);\r\n        this.updateTree(\"Aztecs\");  \r\n    \r\n       \r\n    }\r\n\r\n    componentDidMount() {\r\n        notifService.addObserver(CIV_SELECTED, this, this.updateTree);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        notifService.removeObserver(this, CIV_SELECTED);\r\n    }\r\n\r\n    /* value = civ selected */\r\n    updateTree(value) {\r\n        this.resetTree();\r\n        switch (value) {\r\n            case \"Aztecs\":\r\n                this.fu = [\"Champion\"];\r\n                this.xCastle[2][0] = \"Jaguar Warrior\";\r\n                this.xCastle[3][0] = \"Jaguar Warrior\";\r\n                this.disable(this.xRange, [\"Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\", \"Heavy Cavalry Archer\"]);\r\n                this.disable(this.xBarracks, [\"Halberdier\"]);\r\n                this.disable(this.xStable, [\"Scout Cavalry\", \"Bloodlines\",\"Light Cavalry\", \"Knight\", \"Camel Rider\",\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", \"Paladin\", \"Husbandry\"]);\r\n                this.disable(this.xSiege, [\"Bombard Cannon\", \"Heavy Scorpion\"]);\r\n                this.disable(this.xCastle, [\"Hoardings\"]);\r\n                this.disable(this.xDefense, [\"Bombard Tower\", \"Keep\"])\r\n                this.disable(this.xBlacksmith, [\"Ring Archer Armor\", \"Scale Barding Armor\", \"Plate Barding Armor\", \"Chain Barding Armor\"]);\r\n                this.disable(this.xUniversity, [\"Masonry\", \"Architecture\", \"Keep\", \"Bombard Tower\"]);\r\n                this.disable(this.xMonastery, []);\r\n                this.disable(this.xEconomy, [\"Two-man Saw\", \"Guilds\"]);\r\n                this.disable(this.xDock, [\"Cannon Galleon\", \"Elite Cannon Galleon\", \"Galleon\", \"Heavy Demolition Ship\"]);\r\n                break;\r\n    \r\n            case \"Berbers\":\r\n                this.fu = [\"Elite Skirmisher\", \"Hand Cannoneer\", \"Hussar\", \"Heavy Camel Rider\", \"Champion\"]\r\n                this.xCastle[2][0] = \"Camel Archer\";\r\n                this.xCastle[3][0] = \"Camel Archer\";\r\n                this.disable(this.xRange, [\"Arbalester\", \"Parthian Tactics\"]);\r\n                this.disable(this.xBarracks, [\"Halberdier\"]);\r\n                this.disable(this.xStable, [\"Paladin\"]);\r\n                this.disable(this.xSiege, [\"Siege Ram\", \"Siege Onager\"]);\r\n                this.disable(this.xCastle, [\"Sappers\"]);\r\n                this.disable(this.xDefense, [\"Bombard Tower\", \"Keep\"])\r\n                this.disable(this.xBlacksmith, []);\r\n                this.disable(this.xUniversity, [\"Architecture\", \"Keep\", \"Bombard Tower\"]);\r\n                this.disable(this.xMonastery, [\"Sanctity\", \"Block Printing\"]);\r\n                this.disable(this.xEconomy, [\"Two-man Saw\"]);\r\n                this.disable(this.xDock, [\"Shipwright\"]);\r\n                break;\r\n    \r\n            case \"Turks\":\r\n                this.fu = [\"Heavy Cavalry Archer\", \"Hand Cannoneer\", \"Hussar\", \"Heavy Camel Rider\", \"Champion\"]\r\n                this.xCastle[2][0] = \"Janissary\";\r\n                this.xCastle[3][0] = \"Janissary\";\r\n                this.disable(this.xRange, [\"Arbalester\", \"Elite Skirmisher\"]);\r\n                this.disable(this.xBarracks, [\"Pikeman\", \"Halberdier\"]);\r\n                this.disable(this.xStable, [\"Paladin\"]);\r\n                this.disable(this.xSiege, [\"Onager\", \"Siege Onager\"]);\r\n                this.disable(this.xCastle, []);\r\n                this.disable(this.xDefense, []);\r\n                this.disable(this.xBlacksmith, []);\r\n                this.disable(this.xUniversity, [\"Siege Engineers\"]);\r\n                this.disable(this.xMonastery, [\"Herbal Medicine\", \"Illumination\", \"Block Printing\"]);\r\n                this.disable(this.xEconomy, [\"Stone Shaft Mining\", \"Crop Rotation\"]);\r\n                this.disable(this.xDock, [\"Fast Fire Ship\"]);\r\n                break;\r\n            \r\n            case \"Britons\":\r\n                this.fu = [\"Champion\", \"Halberdier\"];\r\n                this.xCastle[2][0] = \"Longbowman\";\r\n                this.xCastle[3][0] = \"Longbowman\";\r\n                this.disable(this.xRange, [\"Heavy Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\"]);\r\n                this.disable(this.xBarracks, []);\r\n                this.disable(this.xStable, [\"Hussar\", \"Bloodlines\", \"Paladin\"]);\r\n                this.disable(this.xSiege, [\"Siege Ram\", \"Siege Onager\", \"Bombard Cannon\"]);\r\n                this.disable(this.xUniversity, [\"Treadmill Crane\", \"Bombard Tower\"]);\r\n                break;\r\n        }\r\n    }\r\n\r\n    disable(build, units) {\r\n        if (units.length !== 0) {\r\n            let newTree = Array.from(build);\r\n                let disableLength = units.length;\r\n                for (let i=0; disableLength>0 && i<=4; i++) {\r\n                    newTree[i].forEach(unit => {  \r\n                        units.forEach(x => {\r\n                            if (unit === x) {\r\n                                let k = newTree[i].indexOf(unit);\r\n                                // this.attachNATag(newTree, i, k);\r\n                                this.attachDisableTag(newTree, i, k);\r\n                                disableLength--;\r\n                            } \r\n                        });\r\n                    });\r\n                } \r\n        }         \r\n    }\r\n\r\n    /* disabled unit Strings are replaced with NA */\r\n    attachNATag(newTree, i, k) {\r\n        newTree[i][k] = NA;\r\n    }\r\n    /* disabled untis are prefixed DISABLE instead of NA */\r\n    attachDisableTag(newTree, i, k) {\r\n        newTree[i][k] = DIS + newTree[i][k];\r\n    }\r\n\r\n    resetTree() {\r\n        this.fu = [];\r\n        const RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\r\nconst BARRACKS = [[\"Militia\"], [\"Man-at-arms\", \"Spearman\", NA, NA, \"Supplies\"], [\"Long Swordsman\", \"Pikeman\", NA, NA, \"Squires\", \"Arson\",], [\"Two-handed Swordsman\", \"Halberdier\", NA, NA], [\"Champion\", NA, NA, NA]];\r\nconst STABLE = [[NA], [\"Scout Cavalry\", NA, NA, NA, NA, \"Bloodlines\"], [\"Light Cavalry\", \"Knight\", \"Camel Rider\", NA, NA, \"Husbandry\"], [\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", NA, NA], [NA, \"Paladin\", NA]];\r\nconst SIEGE = [[NA], [NA], [\"Battering Ram\", \"Mangonel\", \"Scorpion\",NA, NA, NA, NA], [\"Capped Ram\", \"Onager\", \"Heavy Scorpion\",NA, NA, NA, NA], [\"Siege Ram\", \"Siege Onager\", NA, \"Bombard Cannon\"]];\r\nconst CASTLE = [[NA], [NA], [\"Longbowman\", NA, \"Petard\", NA, \"Unique Tech 1\", NA, NA], [\"Elite Longbowman\", \"Trebuchet\", NA, NA, \"Unique Tech 2\", NA, NA], [NA,NA, \"Hoardings\", \"Sappers\", \"Conscription\", \"Spies Treason\"]];\r\nconst DEFENSE = [[\"Outpost\", NA, \"House\"], [NA, \"Watch Tower\", NA, \"Palisade Wall\", \"Stone Wall\", \"Palisade Gate\", \"Gate\"], [NA, \"Guard Tower\", NA, NA, \"Fortified Wall\"], [NA, \"Keep\", \"Bombard Tower Build\"], [NA]];\r\nconst MONASTERY = [[NA], [NA], [\"Monk\", \"Redemption\", \"Fervor\", \"Sanctity\", \"Atonement\",\"Herbal Medicine\", \"Heresy\"], [NA, \"Block Printing\", \"Illumination\", \"Faith\", \"Theocracy\"], [NA]];\r\nconst BLACSKMITH = [[NA], [\"Forging\", \"Scale Mail Armor\", \"Scale Barding Armor\", \"Fletching\", \"Padded Archer Armor\", NA, NA], [\"Iron Casting\", \"Chain Mail Armor\", \"Chain Barding Armor\", \"Bodkin Arrow\", \"Leather Archer Armor\", NA, NA], [\"Blast Furnace\", \"Plate Mail Armor\", \"Plate Barding Armor\", \"Bracer\", \"Ring Archer Armor\", NA, NA], [NA]];\r\nconst UNIVERSITY = [[NA], [NA], [\"Masonry\", \"Fortified Wall\", \"Ballistics\", \"Guard Tower\", \"Heated Shot\", \"Treadmill Crane\", \"Murder Holes\"], [\"Architecture\", \"Chemistry\", \"Siege Engineers\", \"Keep\", \"Arrowslits\", NA, NA], [NA, \"Bombard Tower\"]];\r\nconst ECONOMY = [[NA], [\"Trade Cart\", NA, \"Coinage\", \"Double-bit Axe\", \"Horse Collar\", \"Gold Mining\", \"Stone Mining\"], [NA, \"Caravan\", \"Banking\", \"Bow Saw\", \"Heavy Plow\", \"Gold Shaft Mining\", \"Stone Shaft Mining\"], [NA, \"Guilds\", NA, \"Two-man Saw\", \"Crop Rotation\", NA, NA], [NA]];\r\nconst DOCK = [[NA, NA, NA, \"Fishing Ship\", \"Transport Ship\"], [\"Galley\", \"Demolition Raft\", \"Fire Galley\", NA, NA, \"Trade Cog\"], [\"War Galley\", \"Demolition Ship\", \"Fire Ship\", NA, \"Gillnets\", \"Careening\"], [\"Galleon\", \"Heavy Demo Ship\", \"Fast Fire Ship\", \"Cannon Galleon\", \"Dry Dock\", \"Shipwright\"], [NA, NA, NA, \"Elite Cannon Galleon\"]];\r\nconst TOWNCENTRE = [[\"Villager\", \"Loom\", NA, NA, \"Feudal Age\"], [NA, NA, \"Wheelbarrow\", \"Town Watch\", \"Castle Age\"], [NA, NA, \"Hand Cart\", \"Town Patrol\", \"Imperial Age\"], [NA], [NA]];\r\n\r\n        \r\n        this.xRange = [...RANGE];\r\n        this.xBarracks = [...BARRACKS];\r\n        this.xStable = [...STABLE]\r\n        this.xSiege = [...SIEGE];\r\n        this.xCastle = [...CASTLE];\r\n        this.xDefense = [...DEFENSE];\r\n        this.xMonastery = [...MONASTERY];\r\n        this.xBlacksmith = [...BLACSKMITH];\r\n        this.xUniversity = [...UNIVERSITY];\r\n        this.xEconomy = [...ECONOMY];\r\n        this.xDock = [...DOCK];\r\n        this.xTownCentre = [...TOWNCENTRE];\r\n    }\r\n\r\n    render() {\r\n        \r\n        return(\r\n            <>\r\n            <main>\r\n                \r\n                <div></div>\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                        <TreePanel build=\"Archery Range\" fu={this.fu} tree={this.xRange}/>\r\n                        <TreePanel build=\"Barracks\" fu={this.fu} tree={this.xBarracks}/>\r\n                        <TreePanel build=\"Stable\" fu={this.fu} tree={this.xStable}/>\r\n                        \r\n                        </tr>\r\n                        <tr>\r\n                        <TreePanel build=\"Siege Workshop\" tree={this.xSiege}/>\r\n                        <TreePanel build=\"Castle\" tree={this.xCastle}/>\r\n                        <TreePanel build=\"Defense\" tree={this.xDefense}/>\r\n                        </tr>\r\n                        <tr>\r\n                        <TreePanel build=\"Blacksmith\" tree={this.xBlacksmith}/>\r\n                        <TreePanel build=\"University\" tree={this.xUniversity}/>\r\n                        <TreePanel build=\"Monastery\" tree={this.xMonastery}/>\r\n                        </tr>\r\n                        <tr>\r\n                        <TreePanel build=\"Town Center\" tree={this.xTownCentre}/>\r\n                        <TreePanel build=\"Economic Buildings\" tree={this.xEconomy}/>\r\n                        <TreePanel build=\"Dock\" tree={this.xDock}/>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </main>\r\n            </>\r\n                    \r\n            \r\n        )\r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}