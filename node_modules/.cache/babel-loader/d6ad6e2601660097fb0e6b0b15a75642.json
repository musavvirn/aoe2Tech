{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (target) {\n  target.prototype.isBodyMode = function () {\n    return !!this.props.bodyMode;\n  };\n\n  target.prototype.bindBodyListener = function (targetArray) {\n    var _this = this;\n\n    var _state = this.state,\n        event = _state.event,\n        eventOff = _state.eventOff,\n        possibleCustomEvents = _state.possibleCustomEvents,\n        possibleCustomEventsOff = _state.possibleCustomEventsOff;\n    var body = getBody();\n    var customEvents = findCustomEvents(targetArray, 'data-event');\n    var customEventsOff = findCustomEvents(targetArray, 'data-event-off');\n    if (event != null) customEvents[event] = true;\n    if (eventOff != null) customEventsOff[eventOff] = true;\n    possibleCustomEvents.split(' ').forEach(function (event) {\n      return customEvents[event] = true;\n    });\n    possibleCustomEventsOff.split(' ').forEach(function (event) {\n      return customEventsOff[event] = true;\n    });\n    this.unbindBodyListener(body);\n    var listeners = this.bodyModeListeners = {};\n\n    if (event == null) {\n      listeners.mouseover = bodyListener.bind(this, this.showTooltip, {});\n      listeners.mousemove = bodyListener.bind(this, this.updateTooltip, {\n        respectEffect: true\n      });\n      listeners.mouseout = bodyListener.bind(this, this.hideTooltip, {});\n    }\n\n    for (var _event in customEvents) {\n      listeners[_event] = bodyListener.bind(this, function (e) {\n        var targetEventOff = e.currentTarget.getAttribute('data-event-off') || eventOff;\n\n        _customEvent.checkStatus.call(_this, targetEventOff, e);\n      }, {\n        customEvent: true\n      });\n    }\n\n    for (var _event2 in customEventsOff) {\n      listeners[_event2] = bodyListener.bind(this, this.hideTooltip, {\n        customEvent: true\n      });\n    }\n\n    for (var _event3 in listeners) {\n      body.addEventListener(_event3, listeners[_event3]);\n    }\n  };\n\n  target.prototype.unbindBodyListener = function (body) {\n    body = body || getBody();\n    var listeners = this.bodyModeListeners;\n\n    for (var event in listeners) {\n      body.removeEventListener(event, listeners[event]);\n    }\n  };\n};\n\nvar _customEvent = require('./customEvent');\n\nvar makeProxy = function makeProxy(e) {\n  var proxy = {};\n\n  for (var key in e) {\n    if (typeof e[key] === 'function') {\n      proxy[key] = e[key].bind(e);\n    } else {\n      proxy[key] = e[key];\n    }\n  }\n\n  return proxy;\n};\n/**\n * Util method to get effect\n */\n\n\nvar bodyListener = function bodyListener(callback, options, e) {\n  var _options$respectEffec = options.respectEffect,\n      respectEffect = _options$respectEffec === undefined ? false : _options$respectEffec,\n      _options$customEvent = options.customEvent,\n      customEvent = _options$customEvent === undefined ? false : _options$customEvent;\n  var id = this.props.id;\n  var tip = e.target.getAttribute('data-tip') || null;\n  var forId = e.target.getAttribute('data-for') || null;\n  var target = e.target;\n\n  if (this.isCustomEvent(target) && !customEvent) {\n    return;\n  }\n\n  var isTargetBelongsToTooltip = id == null && forId == null || forId === id;\n\n  if (tip != null && (!respectEffect || this.getEffect(target) === 'float') && isTargetBelongsToTooltip) {\n    var proxy = makeProxy(e);\n    proxy.currentTarget = target;\n    callback(proxy);\n  }\n};\n\nvar findCustomEvents = function findCustomEvents(targetArray, dataAttribute) {\n  var events = {};\n  targetArray.forEach(function (target) {\n    var event = target.getAttribute(dataAttribute);\n    if (event) event.split(' ').forEach(function (event) {\n      return events[event] = true;\n    });\n  });\n  return events;\n};\n\nvar getBody = function getBody() {\n  return document.getElementsByTagName('body')[0];\n};","map":{"version":3,"sources":["D:/Coding/GitHub/zone/aoe2Tech/node_modules/react-tooltip/dist/decorators/bodyMode.js"],"names":["Object","defineProperty","exports","value","default","target","prototype","isBodyMode","props","bodyMode","bindBodyListener","targetArray","_this","_state","state","event","eventOff","possibleCustomEvents","possibleCustomEventsOff","body","getBody","customEvents","findCustomEvents","customEventsOff","split","forEach","unbindBodyListener","listeners","bodyModeListeners","mouseover","bodyListener","bind","showTooltip","mousemove","updateTooltip","respectEffect","mouseout","hideTooltip","_event","e","targetEventOff","currentTarget","getAttribute","_customEvent","checkStatus","call","customEvent","_event2","_event3","addEventListener","removeEventListener","require","makeProxy","proxy","key","callback","options","_options$respectEffec","undefined","_options$customEvent","id","tip","forId","isCustomEvent","isTargetBelongsToTooltip","getEffect","dataAttribute","events","document","getElementsByTagName"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (target) {\n  target.prototype.isBodyMode = function () {\n    return !!this.props.bodyMode;\n  };\n\n  target.prototype.bindBodyListener = function (targetArray) {\n    var _this = this;\n\n    var _state = this.state,\n        event = _state.event,\n        eventOff = _state.eventOff,\n        possibleCustomEvents = _state.possibleCustomEvents,\n        possibleCustomEventsOff = _state.possibleCustomEventsOff;\n\n    var body = getBody();\n\n    var customEvents = findCustomEvents(targetArray, 'data-event');\n    var customEventsOff = findCustomEvents(targetArray, 'data-event-off');\n\n    if (event != null) customEvents[event] = true;\n    if (eventOff != null) customEventsOff[eventOff] = true;\n    possibleCustomEvents.split(' ').forEach(function (event) {\n      return customEvents[event] = true;\n    });\n    possibleCustomEventsOff.split(' ').forEach(function (event) {\n      return customEventsOff[event] = true;\n    });\n\n    this.unbindBodyListener(body);\n\n    var listeners = this.bodyModeListeners = {};\n    if (event == null) {\n      listeners.mouseover = bodyListener.bind(this, this.showTooltip, {});\n      listeners.mousemove = bodyListener.bind(this, this.updateTooltip, { respectEffect: true });\n      listeners.mouseout = bodyListener.bind(this, this.hideTooltip, {});\n    }\n\n    for (var _event in customEvents) {\n      listeners[_event] = bodyListener.bind(this, function (e) {\n        var targetEventOff = e.currentTarget.getAttribute('data-event-off') || eventOff;\n        _customEvent.checkStatus.call(_this, targetEventOff, e);\n      }, { customEvent: true });\n    }\n    for (var _event2 in customEventsOff) {\n      listeners[_event2] = bodyListener.bind(this, this.hideTooltip, { customEvent: true });\n    }\n    for (var _event3 in listeners) {\n      body.addEventListener(_event3, listeners[_event3]);\n    }\n  };\n\n  target.prototype.unbindBodyListener = function (body) {\n    body = body || getBody();\n\n    var listeners = this.bodyModeListeners;\n    for (var event in listeners) {\n      body.removeEventListener(event, listeners[event]);\n    }\n  };\n};\n\nvar _customEvent = require('./customEvent');\n\nvar makeProxy = function makeProxy(e) {\n  var proxy = {};\n  for (var key in e) {\n    if (typeof e[key] === 'function') {\n      proxy[key] = e[key].bind(e);\n    } else {\n      proxy[key] = e[key];\n    }\n  }\n  return proxy;\n}; /**\n    * Util method to get effect\n    */\n\n\nvar bodyListener = function bodyListener(callback, options, e) {\n  var _options$respectEffec = options.respectEffect,\n      respectEffect = _options$respectEffec === undefined ? false : _options$respectEffec,\n      _options$customEvent = options.customEvent,\n      customEvent = _options$customEvent === undefined ? false : _options$customEvent;\n  var id = this.props.id;\n\n\n  var tip = e.target.getAttribute('data-tip') || null;\n  var forId = e.target.getAttribute('data-for') || null;\n\n  var target = e.target;\n  if (this.isCustomEvent(target) && !customEvent) {\n    return;\n  }\n\n  var isTargetBelongsToTooltip = id == null && forId == null || forId === id;\n\n  if (tip != null && (!respectEffect || this.getEffect(target) === 'float') && isTargetBelongsToTooltip) {\n    var proxy = makeProxy(e);\n    proxy.currentTarget = target;\n    callback(proxy);\n  }\n};\n\nvar findCustomEvents = function findCustomEvents(targetArray, dataAttribute) {\n  var events = {};\n  targetArray.forEach(function (target) {\n    var event = target.getAttribute(dataAttribute);\n    if (event) event.split(' ').forEach(function (event) {\n      return events[event] = true;\n    });\n  });\n\n  return events;\n};\n\nvar getBody = function getBody() {\n  return document.getElementsByTagName('body')[0];\n};"]},"metadata":{},"sourceType":"script"}