{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\GitHub\\\\zone\\\\zone\\\\src\\\\techtree\\\\panels\\\\treeParent.js\";\nimport React, { Component } from \"react\";\nimport TreePanel from \"./treePanel\"; // import {TOWNCENTRE, RANGE, BARRACKS, STABLE, SIEGE, CASTLE, BLACSKMITH, MONASTERY, UNIVERSITY, ECONOMY, DOCK, DEFENSE} from \"./UNIT_NAMES\";\n\nimport CivContext from \"../CivContext\";\nimport NotifService, { CIV_SELECTED } from \"../notifService\";\nimport CivService from \"../civService\";\nvar notifService = new NotifService(); // var civService = new CivService();\n\nconst NA = \"NA\";\nvar RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\nvar BARRACKS = [[\"Militia\"], [\"Man-at-arms\", \"Spearman\", NA, NA, \"Supplies\"], [\"Long Swordsman\", \"Pikeman\", NA, NA, \"Squires\", \"Arson\"], [\"Two-handed Swordsman\", \"Halberdier\", NA, NA], [\"Champion\", NA, NA, NA]];\nvar STABLE = [[NA], [\"Scout Cavalry\", NA, NA, NA, NA, \"Bloodlines\"], [\"Light Cavalry\", \"Knight\", \"Camel Rider\", NA, NA, \"Husbandry\"], [\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", NA, NA], [NA, \"Paladin\", NA]];\nvar SIEGE = [[NA], [NA], [\"Battering Ram\", \"Mangonel\", \"Scorpion\", NA, NA, NA, NA], [\"Capped Ram\", \"Onager\", \"Heavy Scorpion\", NA, NA, NA, NA], [\"Siege Ram\", \"Siege Onager\", NA, \"Bombard Cannon\"]];\nvar CASTLE = [[NA], [NA], [\"Longbowman\", NA, \"Petard\", NA, \"Unique Tech 1\", NA, NA], [\"Elite Longbowman\", \"Trebuchet\", NA, NA, \"Unique Tech 2\", NA, NA], [NA, NA, \"Hoardings\", \"Sappers\", \"Conscription\", \"Spies Treason\"]];\nvar DEFENSE = [[\"Outpost\", NA, \"House\"], [NA, \"Watch Tower\", NA, \"Palisade Wall\", \"Stone Wall\", \"Palisade Gate\", \"Gate\"], [NA, \"Guard Tower\", NA, NA, \"Fortified Wall\"], [NA, \"Keep\", \"Bombard Tower Build\"], [NA]];\nvar MONASTERY = [[NA], [NA], [\"Monk\", \"Redemption\", \"Fervor\", \"Sanctity\", \"Atonement\", \"Herbal Medicine\", \"Heresy\"], [NA, \"Block Printing\", \"Illumination\", \"Faith\", \"Theocracy\"], [NA]];\nvar BLACSKMITH = [[NA], [\"Forging\", \"Scale Mail Armor\", \"Scale Barding Armor\", \"Fletching\", \"Padded Archer Armor\", NA, NA], [\"Iron Casting\", \"Chain Mail Armor\", \"Chain Barding Armor\", \"Bodkin Arrow\", \"Leather Archer Armor\", NA, NA], [\"Blast Furnace\", \"Plate Mail Armor\", \"Plate Barding Armor\", \"Bracer\", \"Ring Archer Armor\", NA, NA], [NA]];\nvar UNIVERSITY = [[NA], [NA], [\"Masonry\", \"Fortified Wall\", \"Ballistics\", \"Guard Tower\", \"Heated Shot\", \"Treadmill Crane\", \"Murder Holes\"], [\"Architecture\", \"Chemistry\", \"Siege Engineers\", \"Keep\", \"Arrowslits\", NA, NA], [NA, \"Bombard Tower\"]];\nvar ECONOMY = [[NA], [\"Trade Cart\", NA, \"Coinage\", \"Double-bit Axe\", \"Horse Collar\", \"Gold Mining\", \"Stone Mining\"], [NA, \"Caravan\", \"Banking\", \"Bow Saw\", \"Heavy Plow\", \"Gold Shaft Mining\", \"Stone Shaft Mining\"], [NA, \"Guilds\", NA, \"Two-man Saw\", \"Crop Rotation\", NA, NA], [NA]];\nvar DOCK = [[NA, NA, NA, \"Fishing Ship\", \"Transport Ship\"], [\"Galley\", \"Demolition Raft\", \"Fire Galley\", NA, NA, \"Trade Cog\"], [\"War Galley\", \"Demolition Ship\", \"Fire Ship\", NA, \"Gillnets\", \"Careening\"], [\"Galleon\", \"Heavy Demo Ship\", \"Fast Fire Ship\", \"Cannon Galleon\", \"Dry Dock\", \"Shipwright\"], [NA, NA, NA, \"Elite Cannon Galleon\"]];\nvar TOWNCENTRE = [[\"Villager\", \"Loom\", NA, NA, \"Feudal Age\"], [NA, NA, \"Wheelbarrow\", \"Town Watch\", \"Castle Age\"], [NA, NA, \"Hand Cart\", \"Town Patrol\", \"Imperial Age\"], [NA], [NA]];\nexport default class TreeParent extends Component {\n  constructor(props) {\n    super(props);\n    this.xRange = [...RANGE];\n    this.xBarracks = [...BARRACKS];\n    this.xStable = [...STABLE];\n    this.xSiege = [...SIEGE];\n    this.xCastle = [...CASTLE];\n    this.xDefense = [...DEFENSE];\n    this.xMonastery = [...MONASTERY];\n    this.xBlacksmith = [...BLACSKMITH];\n    this.xUniversity = [...UNIVERSITY];\n    this.xEconomy = [...ECONOMY];\n    this.xDock = [...DOCK];\n    this.xTownCentre = [...TOWNCENTRE];\n    this.state = {\n      civ: \"Aztecs\"\n    };\n    this.updateTree = this.updateTree.bind(this);\n    this.resetTree = this.resetTree.bind(this);\n  }\n\n  componentDidMount() {\n    notifService.addObserver(CIV_SELECTED, this, this.updateTree);\n  }\n\n  componentWillUnmount() {\n    notifService.removeObserver(this, CIV_SELECTED);\n  }\n  /* value = civ selected */\n\n\n  updateTree(value) {\n    this.resetTree(); // RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\n\n    switch (value) {\n      case \"Aztecs\":\n        this.disable(this.xRange, [\"Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\", \"Heavy Cavalry Archer\"]);\n        this.disable(this.xBarracks, [\"Halberdier\"]);\n        this.disable(this.xStable, [\"Scout Cavalry\", \"Bloodlines\", \"Light Cavalry\", \"Knight\", \"Camel Rider\", \"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", \"Paladin\", \"Husbandry\"]);\n        this.disable(this.xSiege, [\"Bombard Cannon\"]);\n        break;\n\n      case \"Turks\":\n        this.disable(this.xRange, [\"Arbalester\", \"Elite Skirmisher\"]);\n        this.disable(this.xBarracks, [\"Pikeman\", \"Halberdier\"]);\n        this.disable(this.xStable, [\"Paladin\"]);\n        this.disable(this.xSiege, [\"Onager\", \"Siege Onager\", \"Bombard Cannon\"]);\n        break;\n\n      case \"Britons\":\n        this.disable(this.xRange, [\"Heavy Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\"]);\n        this.disable(this.xBarracks, []);\n        this.disable(this.xStable, [\"Hussar\", \"Bloodlines\", \"Paladin\"]);\n        this.disable(this.xSiege, [\"Siege Ram\", \"Siege Onager\", \"Bombard Cannon\"]);\n        break;\n    }\n  }\n\n  disable(build, units) {\n    let newTree = Array.from(build);\n    let disableLength = units.length;\n\n    for (let i = 0; disableLength > 0 && i <= 4; i++) {\n      newTree[i].forEach(unit => {\n        units.forEach(x => {\n          if (unit === x) {\n            let k = newTree[i].indexOf(unit);\n            newTree[i][k] = NA;\n            disableLength--;\n          }\n        });\n      });\n    }\n  }\n\n  resetTree() {\n    var RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\n    var BARRACKS = [[\"Militia\"], [\"Man-at-arms\", \"Spearman\", NA, NA, \"Supplies\"], [\"Long Swordsman\", \"Pikeman\", NA, NA, \"Squires\", \"Arson\"], [\"Two-handed Swordsman\", \"Halberdier\", NA, NA], [\"Champion\", NA, NA, NA]];\n    var STABLE = [[NA], [\"Scout Cavalry\", NA, NA, NA, NA, \"Bloodlines\"], [\"Light Cavalry\", \"Knight\", \"Camel Rider\", NA, NA, \"Husbandry\"], [\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", NA, NA], [NA, \"Paladin\", NA]];\n    var SIEGE = [[NA], [NA], [\"Battering Ram\", \"Mangonel\", \"Scorpion\", NA, NA, NA, NA], [\"Capped Ram\", \"Onager\", \"Heavy Scorpion\", NA, NA, NA, NA], [\"Siege Ram\", \"Siege Onager\", NA, \"Bombard Cannon\"]];\n    var CASTLE = [[NA], [NA], [\"Longbowman\", NA, \"Petard\", NA, \"Unique Tech 1\", NA, NA], [\"Elite Longbowman\", \"Trebuchet\", NA, NA, \"Unique Tech 2\", NA, NA], [NA, NA, \"Hoardings\", \"Sappers\", \"Conscription\", \"Spies Treason\"]];\n    var DEFENSE = [[\"Outpost\", NA, \"House\"], [NA, \"Watch Tower\", NA, \"Palisade Wall\", \"Stone Wall\", \"Palisade Gate\", \"Gate\"], [NA, \"Guard Tower\", NA, NA, \"Fortified Wall\"], [NA, \"Keep\", \"Bombard Tower Build\"], [NA]];\n    var MONASTERY = [[NA], [NA], [\"Monk\", \"Redemption\", \"Fervor\", \"Sanctity\", \"Atonement\", \"Herbal Medicine\", \"Heresy\"], [NA, \"Block Printing\", \"Illumination\", \"Faith\", \"Theocracy\"], [NA]];\n    var BLACSKMITH = [[NA], [\"Forging\", \"Scale Mail Armor\", \"Scale Barding Armor\", \"Fletching\", \"Padded Archer Armor\", NA, NA], [\"Iron Casting\", \"Chain Mail Armor\", \"Chain Barding Armor\", \"Bodkin Arrow\", \"Leather Archer Armor\", NA, NA], [\"Blast Furnace\", \"Plate Mail Armor\", \"Plate Barding Armor\", \"Bracer\", \"Ring Archer Armor\", NA, NA], [NA]];\n    var UNIVERSITY = [[NA], [NA], [\"Masonry\", \"Fortified Wall\", \"Ballistics\", \"Guard Tower\", \"Heated Shot\", \"Treadmill Crane\", \"Murder Holes\"], [\"Architecture\", \"Chemistry\", \"Siege Engineers\", \"Keep\", \"Arrowslits\", NA, NA], [NA, \"Bombard Tower\"]];\n    var ECONOMY = [[NA], [\"Trade Cart\", NA, \"Coinage\", \"Double-bit Axe\", \"Horse Collar\", \"Gold Mining\", \"Stone Mining\"], [NA, \"Caravan\", \"Banking\", \"Bow Saw\", \"Heavy Plow\", \"Gold Shaft Mining\", \"Stone Shaft Mining\"], [NA, \"Guilds\", NA, \"Two-man Saw\", \"Crop Rotation\", NA, NA], [NA]];\n    var DOCK = [[NA, NA, NA, \"Fishing Ship\", \"Transport Ship\"], [\"Galley\", \"Demolition Raft\", \"Fire Galley\", NA, NA, \"Trade Cog\"], [\"War Galley\", \"Demolition Ship\", \"Fire Ship\", NA, \"Gillnets\", \"Careening\"], [\"Galleon\", \"Heavy Demo Ship\", \"Fast Fire Ship\", \"Cannon Galleon\", \"Dry Dock\", \"Shipwright\"], [NA, NA, NA, \"Elite Cannon Galleon\"]];\n    var TOWNCENTRE = [[\"Villager\", \"Loom\", NA, NA, \"Feudal Age\"], [NA, NA, \"Wheelbarrow\", \"Town Watch\", \"Castle Age\"], [NA, NA, \"Hand Cart\", \"Town Patrol\", \"Imperial Age\"], [NA], [NA]];\n    this.xRange = [...RANGE];\n    this.xBarracks = [...BARRACKS];\n    this.xStable = [...STABLE];\n    this.xSiege = [...SIEGE];\n    this.xCastle = [...CASTLE];\n    this.xDefense = [...DEFENSE];\n    this.xMonastery = [...MONASTERY];\n    this.xBlacksmith = [...BLACSKMITH];\n    this.xUniversity = [...UNIVERSITY];\n    this.xEconomy = [...ECONOMY];\n    this.xDock = [...DOCK];\n    this.xTownCentre = [...TOWNCENTRE];\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \" HEADING \"), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Archery Range\",\n      tree: this.xRange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Barracks\",\n      tree: this.xBarracks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Stable\",\n      tree: this.xStable,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Siege Workshop\",\n      tree: this.xSiege,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Castle\",\n      tree: this.xCastle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Defense\",\n      tree: this.xDefense,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Blacksmith\",\n      tree: this.xBlacksmith,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"University\",\n      tree: this.xUniversity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Monastery\",\n      tree: this.xMonastery,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(TreePanel, {\n      build: \"Town Center\",\n      tree: this.xTownCentre,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Economic Buildings\",\n      tree: this.xEconomy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(TreePanel, {\n      build: \"Dock\",\n      tree: this.xDock,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["D:/Coding/GitHub/zone/zone/src/techtree/panels/treeParent.js"],"names":["React","Component","TreePanel","CivContext","NotifService","CIV_SELECTED","CivService","notifService","NA","RANGE","BARRACKS","STABLE","SIEGE","CASTLE","DEFENSE","MONASTERY","BLACSKMITH","UNIVERSITY","ECONOMY","DOCK","TOWNCENTRE","TreeParent","constructor","props","xRange","xBarracks","xStable","xSiege","xCastle","xDefense","xMonastery","xBlacksmith","xUniversity","xEconomy","xDock","xTownCentre","state","civ","updateTree","bind","resetTree","componentDidMount","addObserver","componentWillUnmount","removeObserver","value","disable","build","units","newTree","Array","from","disableLength","length","i","forEach","unit","x","k","indexOf","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport TreePanel from \"./treePanel\";\r\n// import {TOWNCENTRE, RANGE, BARRACKS, STABLE, SIEGE, CASTLE, BLACSKMITH, MONASTERY, UNIVERSITY, ECONOMY, DOCK, DEFENSE} from \"./UNIT_NAMES\";\r\nimport CivContext from \"../CivContext\";\r\nimport NotifService, {CIV_SELECTED} from \"../notifService\";\r\nimport CivService from \"../civService\";\r\n\r\n\r\nvar notifService = new NotifService();\r\n// var civService = new CivService();\r\nconst NA = \"NA\";\r\n\r\nvar RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\r\nvar BARRACKS = [[\"Militia\"], [\"Man-at-arms\", \"Spearman\", NA, NA, \"Supplies\"], [\"Long Swordsman\", \"Pikeman\", NA, NA, \"Squires\", \"Arson\",], [\"Two-handed Swordsman\", \"Halberdier\", NA, NA], [\"Champion\", NA, NA, NA]];\r\nvar STABLE = [[NA], [\"Scout Cavalry\", NA, NA, NA, NA, \"Bloodlines\"], [\"Light Cavalry\", \"Knight\", \"Camel Rider\", NA, NA, \"Husbandry\"], [\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", NA, NA], [NA, \"Paladin\", NA]];\r\nvar SIEGE = [[NA], [NA], [\"Battering Ram\", \"Mangonel\", \"Scorpion\",NA, NA, NA, NA], [\"Capped Ram\", \"Onager\", \"Heavy Scorpion\",NA, NA, NA, NA], [\"Siege Ram\", \"Siege Onager\", NA, \"Bombard Cannon\"]];\r\nvar CASTLE = [[NA], [NA], [\"Longbowman\", NA, \"Petard\", NA, \"Unique Tech 1\", NA, NA], [\"Elite Longbowman\", \"Trebuchet\", NA, NA, \"Unique Tech 2\", NA, NA], [NA,NA, \"Hoardings\", \"Sappers\", \"Conscription\", \"Spies Treason\"]];\r\nvar DEFENSE = [[\"Outpost\", NA, \"House\"], [NA, \"Watch Tower\", NA, \"Palisade Wall\", \"Stone Wall\", \"Palisade Gate\", \"Gate\"], [NA, \"Guard Tower\", NA, NA, \"Fortified Wall\"], [NA, \"Keep\", \"Bombard Tower Build\"], [NA]];\r\nvar MONASTERY = [[NA], [NA], [\"Monk\", \"Redemption\", \"Fervor\", \"Sanctity\", \"Atonement\",\"Herbal Medicine\", \"Heresy\"], [NA, \"Block Printing\", \"Illumination\", \"Faith\", \"Theocracy\"], [NA]];\r\nvar BLACSKMITH = [[NA], [\"Forging\", \"Scale Mail Armor\", \"Scale Barding Armor\", \"Fletching\", \"Padded Archer Armor\", NA, NA], [\"Iron Casting\", \"Chain Mail Armor\", \"Chain Barding Armor\", \"Bodkin Arrow\", \"Leather Archer Armor\", NA, NA], [\"Blast Furnace\", \"Plate Mail Armor\", \"Plate Barding Armor\", \"Bracer\", \"Ring Archer Armor\", NA, NA], [NA]];\r\nvar UNIVERSITY = [[NA], [NA], [\"Masonry\", \"Fortified Wall\", \"Ballistics\", \"Guard Tower\", \"Heated Shot\", \"Treadmill Crane\", \"Murder Holes\"], [\"Architecture\", \"Chemistry\", \"Siege Engineers\", \"Keep\", \"Arrowslits\", NA, NA], [NA, \"Bombard Tower\"]];\r\nvar ECONOMY = [[NA], [\"Trade Cart\", NA, \"Coinage\", \"Double-bit Axe\", \"Horse Collar\", \"Gold Mining\", \"Stone Mining\"], [NA, \"Caravan\", \"Banking\", \"Bow Saw\", \"Heavy Plow\", \"Gold Shaft Mining\", \"Stone Shaft Mining\"], [NA, \"Guilds\", NA, \"Two-man Saw\", \"Crop Rotation\", NA, NA], [NA]];\r\nvar DOCK = [[NA, NA, NA, \"Fishing Ship\", \"Transport Ship\"], [\"Galley\", \"Demolition Raft\", \"Fire Galley\", NA, NA, \"Trade Cog\"], [\"War Galley\", \"Demolition Ship\", \"Fire Ship\", NA, \"Gillnets\", \"Careening\"], [\"Galleon\", \"Heavy Demo Ship\", \"Fast Fire Ship\", \"Cannon Galleon\", \"Dry Dock\", \"Shipwright\"], [NA, NA, NA, \"Elite Cannon Galleon\"]];\r\nvar TOWNCENTRE = [[\"Villager\", \"Loom\", NA, NA, \"Feudal Age\"], [NA, NA, \"Wheelbarrow\", \"Town Watch\", \"Castle Age\"], [NA, NA, \"Hand Cart\", \"Town Patrol\", \"Imperial Age\"], [NA], [NA]];\r\n\r\n\r\nexport default class TreeParent extends Component {\r\n    \r\n    xRange = [...RANGE];\r\n    xBarracks = [...BARRACKS];\r\n    xStable = [...STABLE]\r\n    xSiege = [...SIEGE];\r\n    xCastle = [...CASTLE];\r\n    xDefense = [...DEFENSE];\r\n    xMonastery = [...MONASTERY];\r\n    xBlacksmith = [...BLACSKMITH];\r\n    xUniversity = [...UNIVERSITY];\r\n    xEconomy = [...ECONOMY];\r\n    xDock = [...DOCK];\r\n    xTownCentre = [...TOWNCENTRE];\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {civ: \"Aztecs\"};\r\n        this.updateTree = this.updateTree.bind(this);\r\n        this.resetTree = this.resetTree.bind(this);\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        notifService.addObserver(CIV_SELECTED, this, this.updateTree);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        notifService.removeObserver(this, CIV_SELECTED);\r\n    }\r\n\r\n    /* value = civ selected */\r\n    updateTree(value) {\r\n        this.resetTree();\r\n        // RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\r\n\r\n        switch (value) {\r\n            case \"Aztecs\":\r\n                this.disable(this.xRange, [\"Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\", \"Heavy Cavalry Archer\"]);\r\n                this.disable(this.xBarracks, [\"Halberdier\"]);\r\n                this.disable(this.xStable, [\"Scout Cavalry\", \"Bloodlines\",\"Light Cavalry\", \"Knight\", \"Camel Rider\",\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", \"Paladin\", \"Husbandry\"]);\r\n                this.disable(this.xSiege, [\"Bombard Cannon\"]);\r\n     \r\n                break;\r\n            case \"Turks\":\r\n                this.disable(this.xRange, [\"Arbalester\", \"Elite Skirmisher\"]);\r\n                this.disable(this.xBarracks, [\"Pikeman\", \"Halberdier\"]);\r\n                this.disable(this.xStable, [\"Paladin\"]);\r\n                this.disable(this.xSiege, [\"Onager\", \"Siege Onager\", \"Bombard Cannon\"]);\r\n                break;\r\n            \r\n            case \"Britons\":\r\n                this.disable(this.xRange, [\"Heavy Cavalry Archer\", \"Hand Cannoneer\", \"Thumb Ring\", \"Parthian Tactics\"]);\r\n                this.disable(this.xBarracks, []);\r\n                this.disable(this.xStable, [\"Hussar\", \"Bloodlines\", \"Paladin\"]);\r\n                this.disable(this.xSiege, [\"Siege Ram\", \"Siege Onager\", \"Bombard Cannon\"]);\r\n                break;\r\n        }\r\n    }\r\n\r\n    disable(build, units) {\r\n        let newTree = Array.from(build);\r\n        let disableLength = units.length;\r\n\r\n        for (let i=0; disableLength>0 && i<=4; i++) {\r\n            newTree[i].forEach(unit => {  \r\n                units.forEach(x => {\r\n                    if (unit === x) {\r\n                        let k = newTree[i].indexOf(unit);\r\n                        newTree[i][k] = NA;\r\n                        disableLength--;\r\n                    } \r\n                });\r\n            });\r\n        }        \r\n    }\r\n\r\n    resetTree() {\r\n        var RANGE = [[NA], [\"Archer\", \"Skirmisher\"], [\"Crossbowman\", \"Elite Skirmisher\", \"Cavalry Archer\", NA, NA, \"Thumb Ring\"], [\"Arbalester\", NA, \"Heavy Cavalry Archer\", \"Hand Cannoneer\", NA, \"Parthian Tactics\"], [NA]];\r\n        var BARRACKS = [[\"Militia\"], [\"Man-at-arms\", \"Spearman\", NA, NA, \"Supplies\"], [\"Long Swordsman\", \"Pikeman\", NA, NA, \"Squires\", \"Arson\",], [\"Two-handed Swordsman\", \"Halberdier\", NA, NA], [\"Champion\", NA, NA, NA]];\r\n        var STABLE = [[NA], [\"Scout Cavalry\", NA, NA, NA, NA, \"Bloodlines\"], [\"Light Cavalry\", \"Knight\", \"Camel Rider\", NA, NA, \"Husbandry\"], [\"Hussar\", \"Cavalier\", \"Heavy Camel Rider\", NA, NA], [NA, \"Paladin\", NA]];\r\n        var SIEGE = [[NA], [NA], [\"Battering Ram\", \"Mangonel\", \"Scorpion\",NA, NA, NA, NA], [\"Capped Ram\", \"Onager\", \"Heavy Scorpion\",NA, NA, NA, NA], [\"Siege Ram\", \"Siege Onager\", NA, \"Bombard Cannon\"]];\r\n        var CASTLE = [[NA], [NA], [\"Longbowman\", NA, \"Petard\", NA, \"Unique Tech 1\", NA, NA], [\"Elite Longbowman\", \"Trebuchet\", NA, NA, \"Unique Tech 2\", NA, NA], [NA,NA, \"Hoardings\", \"Sappers\", \"Conscription\", \"Spies Treason\"]];\r\n        var DEFENSE = [[\"Outpost\", NA, \"House\"], [NA, \"Watch Tower\", NA, \"Palisade Wall\", \"Stone Wall\", \"Palisade Gate\", \"Gate\"], [NA, \"Guard Tower\", NA, NA, \"Fortified Wall\"], [NA, \"Keep\", \"Bombard Tower Build\"], [NA]];\r\n        var MONASTERY = [[NA], [NA], [\"Monk\", \"Redemption\", \"Fervor\", \"Sanctity\", \"Atonement\",\"Herbal Medicine\", \"Heresy\"], [NA, \"Block Printing\", \"Illumination\", \"Faith\", \"Theocracy\"], [NA]];\r\n        var BLACSKMITH = [[NA], [\"Forging\", \"Scale Mail Armor\", \"Scale Barding Armor\", \"Fletching\", \"Padded Archer Armor\", NA, NA], [\"Iron Casting\", \"Chain Mail Armor\", \"Chain Barding Armor\", \"Bodkin Arrow\", \"Leather Archer Armor\", NA, NA], [\"Blast Furnace\", \"Plate Mail Armor\", \"Plate Barding Armor\", \"Bracer\", \"Ring Archer Armor\", NA, NA], [NA]];\r\n        var UNIVERSITY = [[NA], [NA], [\"Masonry\", \"Fortified Wall\", \"Ballistics\", \"Guard Tower\", \"Heated Shot\", \"Treadmill Crane\", \"Murder Holes\"], [\"Architecture\", \"Chemistry\", \"Siege Engineers\", \"Keep\", \"Arrowslits\", NA, NA], [NA, \"Bombard Tower\"]];\r\n        var ECONOMY = [[NA], [\"Trade Cart\", NA, \"Coinage\", \"Double-bit Axe\", \"Horse Collar\", \"Gold Mining\", \"Stone Mining\"], [NA, \"Caravan\", \"Banking\", \"Bow Saw\", \"Heavy Plow\", \"Gold Shaft Mining\", \"Stone Shaft Mining\"], [NA, \"Guilds\", NA, \"Two-man Saw\", \"Crop Rotation\", NA, NA], [NA]];\r\n        var DOCK = [[NA, NA, NA, \"Fishing Ship\", \"Transport Ship\"], [\"Galley\", \"Demolition Raft\", \"Fire Galley\", NA, NA, \"Trade Cog\"], [\"War Galley\", \"Demolition Ship\", \"Fire Ship\", NA, \"Gillnets\", \"Careening\"], [\"Galleon\", \"Heavy Demo Ship\", \"Fast Fire Ship\", \"Cannon Galleon\", \"Dry Dock\", \"Shipwright\"], [NA, NA, NA, \"Elite Cannon Galleon\"]];\r\n        var TOWNCENTRE = [[\"Villager\", \"Loom\", NA, NA, \"Feudal Age\"], [NA, NA, \"Wheelbarrow\", \"Town Watch\", \"Castle Age\"], [NA, NA, \"Hand Cart\", \"Town Patrol\", \"Imperial Age\"], [NA], [NA]];\r\n\r\n\r\n        this.xRange = [...RANGE];\r\n        this.xBarracks = [...BARRACKS];\r\n        this.xStable = [...STABLE]\r\n        this.xSiege = [...SIEGE];\r\n        this.xCastle = [...CASTLE];\r\n        this.xDefense = [...DEFENSE];\r\n        this.xMonastery = [...MONASTERY];\r\n        this.xBlacksmith = [...BLACSKMITH];\r\n        this.xUniversity = [...UNIVERSITY];\r\n        this.xEconomy = [...ECONOMY];\r\n        this.xDock = [...DOCK];\r\n        this.xTownCentre = [...TOWNCENTRE];\r\n    }\r\n\r\n    render() {\r\n        \r\n        return(\r\n            <>\r\n            {/* <CivContext.Consumer> \r\n                {value => this.updateTree(value)}\r\n            </CivContext.Consumer>  */}\r\n            <div>\r\n                <h5> HEADING </h5>\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                        <TreePanel build=\"Archery Range\" tree={this.xRange}/>\r\n                        <TreePanel build=\"Barracks\" tree={this.xBarracks}/>\r\n                        <TreePanel build=\"Stable\" tree={this.xStable}/>\r\n                        \r\n                        </tr>\r\n                        <tr>\r\n                        <TreePanel build=\"Siege Workshop\" tree={this.xSiege}/>\r\n                        <TreePanel build=\"Castle\" tree={this.xCastle}/>\r\n                        <TreePanel build=\"Defense\" tree={this.xDefense}/>\r\n                        </tr>\r\n                        <tr>\r\n                        <TreePanel build=\"Blacksmith\" tree={this.xBlacksmith}/>\r\n                        <TreePanel build=\"University\" tree={this.xUniversity}/>\r\n                        <TreePanel build=\"Monastery\" tree={this.xMonastery}/>\r\n                        </tr>\r\n                        <tr>\r\n                        <TreePanel build=\"Town Center\" tree={this.xTownCentre}/>\r\n                        <TreePanel build=\"Economic Buildings\" tree={this.xEconomy}/>\r\n                        <TreePanel build=\"Dock\" tree={this.xDock}/>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            </>\r\n                    \r\n            \r\n        )\r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}